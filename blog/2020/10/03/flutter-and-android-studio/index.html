<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="RoboPickles Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="RoboPickles Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-176711841-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Android Studio setup for Flutter plugin | RoboPickles</title><meta data-react-helmet="true" property="og:title" content="Android Studio setup for Flutter plugin | RoboPickles"><meta data-react-helmet="true" name="description" content="We wanted to run inference on the phone for our neural network for unwrapping. We have an application built with Flutter to provide cross-platform development, and we wanted to integrate with the mobile Pytorch library. We always tried to cut corners everywhere we could. But there were no excellent Flutter plugins that support our neural model on the current Flutter&#x27;s life stage. Most plugins re-create Pytorch&#x27;s mobile sample application that is classifying images, but it&#x27;s required to calculate heatmaps in our case."><meta data-react-helmet="true" property="og:description" content="We wanted to run inference on the phone for our neural network for unwrapping. We have an application built with Flutter to provide cross-platform development, and we wanted to integrate with the mobile Pytorch library. We always tried to cut corners everywhere we could. But there were no excellent Flutter plugins that support our neural model on the current Flutter&#x27;s life stage. Most plugins re-create Pytorch&#x27;s mobile sample application that is classifying images, but it&#x27;s required to calculate heatmaps in our case."><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/styles.0c138a4e.css">
<link rel="preload" href="/styles.32d01a10.js" as="script">
<link rel="preload" href="/runtime~main.817a9e8d.js" as="script">
<link rel="preload" href="/main.086a753d.js" as="script">
<link rel="preload" href="/common.dd18a9b1.js" as="script">
<link rel="preload" href="/2.ae4cb8cb.js" as="script">
<link rel="preload" href="/25.55dd44d4.js" as="script">
<link rel="preload" href="/aeee494a.d845b839.js" as="script">
<link rel="preload" href="/433542c1.8d263bae.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="RoboPickles" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="RoboPickles" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">RoboPickles</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/robopickles/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="RoboPickles" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="RoboPickles" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">RoboPickles</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/robopickles/" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--2"><div class="sidebar_SWld thin-scrollbar"><h3 class="sidebarItemTitle_Km2m">Recent posts</h3><ul class="sidebarItemList_3UpA"><li class="sidebarItem_2T0D"><a aria-current="page" class="sidebarItemLink_v5H9 sidebarItemLinkActive_1anX" href="/blog/2020/10/03/flutter-and-android-studio">Android Studio setup for Flutter plugin</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/seamless-stitching">Seamless Stitching of Perfect Labels</a></li></ul></div></div><main class="col col--8"><article><header><h1 class="margin-bottom--sm blogPostTitle_3-lP">Android Studio setup for Flutter plugin</h1><div class="margin-vert--md"><time datetime="2020-10-03T00:00:00.000Z" class="blogPostDate_Ta7i">October 3, 2020  Â· 5 min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/cybergrind" target="_blank" rel="noreferrer noopener">Kirill Pinchuk</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p>We wanted to run inference on the phone for our <a href="https://perfectlabel.io" target="_blank" rel="noopener noreferrer">neural network for unwrapping</a>. We have an application built with Flutter to provide cross-platform development, and we wanted to integrate with the mobile Pytorch library. We always tried to cut corners everywhere we could. But there were no excellent Flutter plugins that support our neural model on the current Flutter&#x27;s life stage. Most plugins re-create Pytorch&#x27;s mobile sample application that is classifying images, but it&#x27;s required to calculate heatmaps in our case.</p><p>Since itâ€™s super easy to call native code in Flutter, it was an idea to write a custom plugin, doing the required calculations.</p><p>But many different possible outputs can exist, and we can improve existing Flutter&#x27;s ecosphere by separating <a href="https://github.com/robopickles/proper_pytorch" target="_blank" rel="noopener noreferrer">part of an internal application to plugin</a>.</p><p>This article is about how to start plugin development using Flutter and Android Studio. Currently, Flutter (1.20.3) and android-studio (3.6/4.0) have some gotchas to work it better than out-of-box.</p><p><img alt="caution" src="/assets/images/minefield-ca2a6901b5946e38a95807d1e288e43f.jpg"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="create-your-plugin"></a>Create your plugin<a class="hash-link" href="#create-your-plugin" title="Direct link to heading">#</a></h3><p>Firstly start and empty plugin by triggering a template.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">flutter create --org com.robopickles --template plugin </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    --platforms</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">android,ios -a kotlin proper_pytorch</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>After this step, it&#x27;s recommended to add everything to git and commit the created code. In the future, it might be required to repeat setup-and-reset it back several times.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="open-in-android-studio"></a>Open in Android Studio<a class="hash-link" href="#open-in-android-studio" title="Direct link to heading">#</a></h3><p>First, you need to install <code>Flutter</code> plugin. Then you&#x27;re ready to open your project.</p><p>You have two options on how to open your project:</p><ul><li>Import existing Flutter project. That isn&#x27;t recommended by official documentation because the project will be broken.</li><li>Open an existing project. That doesn&#x27;t lead to a better working project in my case.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-understand-if-you-got-a-working-project"></a>How to understand if you got a working project<a class="hash-link" href="#how-to-understand-if-you-got-a-working-project" title="Direct link to heading">#</a></h3><p>First of all, building and running a project will always work. You may have broken code completion, or Gradle won&#x27;t get detected by Studio - this only affects Android Studio and doesn&#x27;t prevent Gradle itself from building correct apk.</p><p>You need to open <code>android/src/main/kotlin/com/robopickles/proper_pytorch/ProperPytorchPlugin.kt</code> and if you can navigate by Ctrl-clicking - your&#x27;re good.</p><p>But you may get something like this (<code>Cannot find declaration to go to</code>):</p><p><img alt="broken completion" src="/assets/images/01_broken_completion-eaefaf2e6946e48de14f7500e92146c5.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="open-project-in-android-studio"></a>Open project in Android Studio<a class="hash-link" href="#open-project-in-android-studio" title="Direct link to heading">#</a></h3><p>I must admit that I&#x27;m not an expert in Android Studio internals. So I may be wrong in some cases, but here what I&#x27;ve found after multiple fresh installations and different variants of fixing it.</p><p>Your most significant friend is <code>F4</code> button on the top-level module or <code>File -&gt; Project Structure</code> via the menu.</p><p>You can use it for setting your SDK:</p><p><img alt="setup sdk" src="/assets/images/02_setup_sdk-c4e5636a63dd71951bf87c1c60876833.png"></p><p>And check how Studio has detected your modules and dependencies in a good module.</p><p><img alt="good module" src="/assets/images/03_good_module-144e5b92b633176daf1efaa30b38a9b8.png"></p><p>And how it looks in the bad module</p><p><img alt="bad module" src="/assets/images/04_bad_module-96ff75c5725662698d511bc630bfe787.png"></p><p>If you restart Studio you get two notifications about missing <code>iml</code> files.</p><p><img alt="missing iml" src="/assets/images/05_no_iml_notification-d1c548161d9360012eb919fc1effce68.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="some-details-about-android-studio"></a>Some details about Android Studio<a class="hash-link" href="#some-details-about-android-studio" title="Direct link to heading">#</a></h3><p>This notifications are reasons for our problems. <code>flutter create</code> creates project from template and modules are generated by this template. You can open <code>.idea/modules.xml</code> and find such definition:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-xml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">modules</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">module</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">fileurl</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">file://$PROJECT_DIR$/proper_pytorch.iml</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">filepath</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">$PROJECT_DIR$/proper_pytorch.iml</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">module</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">fileurl</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">file://$PROJECT_DIR$/android/proper_pytorch_android.iml</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">filepath</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">$PROJECT_DIR$/android/proper_pytorch_android.iml</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">module</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">fileurl</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">file://$PROJECT_DIR$/example/android/proper_pytorch_example_android.iml</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">filepath</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">$PROJECT_DIR$/example/android/proper_pytorch_example_android.iml</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">modules</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><code>IML</code> files are used by Android Studio to store information about the module. For some reason, they don&#x27;t have <code>Android Gradle</code> settings that correct modules have.</p><p>It should look like this:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-xml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">facet</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">type</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">android-gradle</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">Android-Gradle</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">configuration</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">option</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">GRADLE_PROJECT_PATH</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">value</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">:proper_pytorch</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">option</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">LAST_SUCCESSFUL_SYNC_AGP_VERSION</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">value</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">3.6.3</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">option</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">LAST_KNOWN_AGP_VERSION</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">value</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">3.6.3</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">configuration</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">facet</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>It is probably possible to fix it only with <code>Project Structure</code> menu. But on my installation, this view is broken for the just-generated project.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="workaround-for-kotlin-module"></a>Workaround for Kotlin module<a class="hash-link" href="#workaround-for-kotlin-module" title="Direct link to heading">#</a></h3><p>When you have your Kotlin file opened, you may notice that Flutter suggest to open it for editing (top-right menu)</p><p><img alt="link image" src="/assets/images/06_open_for_editing-b463cf6e551a9c573d732459a672a422.png"></p><p>That will open the module as a new project and magically detect Gradle (on the right side)</p><p><img alt="gradle detected" src="data:image/png;base64,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"></p><p>Also, it will setup all harness and add all dependencies. Thus Kotlin&#x27;s completion starts work.</p><p>That enables at least basic editing for Android code withing Studio.</p><p>And it will generate <code>iml</code> for this module inside nested under <code>example/android/.idea/modules/</code> directory. Unfortunately, you cannot get your main project working by importing this iml file directly.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="fixing-the-main-project"></a>Fixing the main project<a class="hash-link" href="#fixing-the-main-project" title="Direct link to heading">#</a></h3><p>Remove auto-generated <code>.idea</code> directory and all <code>.iml</code> files. Commit it as a clear state.</p><p>Open <code>Settings -&gt; Build,Exectuion,Deployment -&gt; Build Tools -&gt; Gradle</code> and opt-in <code>Generate *.iml files</code>.</p><p><img alt="generate iml" src="/assets/images/08_generate_iml-988c4ce6dea9f6ca52f3ef566ccb24f6.png"></p><p>Then you need to run your application once. That will generate all required Gradle files.</p><p>Set your project SDK in <code>Project Structure -&gt; Project</code> to Android SDK.</p><p>After that, you can import <code>build.gradle</code> from <code>example/android</code> directory.</p><p><img alt="import gradle" src="/assets/images/09_import_gradle-b4b41c244df493c74f85730162132665.png"></p><p>After that, you should see many libraries in the Project window on the bottom of the view.</p><p>That will enable code completion. Some things (eg. running tests from Studio) still may fail. To fix that, you need to restart Studio.</p><p>The correct project will have 3 additional <code>iml</code> files and <code>.idea</code> directory will also have <code>gradle.xml</code>.</p><p><img alt="new .idea dir" src="/assets/images/10_good_idea-d90465a7257ca3f01c8a2d1dcb4f0123.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="afterword"></a>Afterword<a class="hash-link" href="#afterword" title="Direct link to heading">#</a></h3><p>As a result of all our manipulations, we will have a broken <code>Project Structure</code> menu, but the rest of the things seem to be working.</p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/flutter">flutter</a><a class="margin-horiz--sm" href="/blog/tags/android-studio">android-studio</a><a class="margin-horiz--sm" href="/blog/tags/intellij-idea">intellij-idea</a></div></footer></article><div><a href="https://github.com/robopickles/blog/2020-10-03-flutter-and-android-studio.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/seamless-stitching"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Seamless Stitching of Perfect Labels Â»</div></a></div></nav></div></main><div class="col col--2"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#create-your-plugin" class="table-of-contents__link">Create your plugin</a></li><li><a href="#open-in-android-studio" class="table-of-contents__link">Open in Android Studio</a></li><li><a href="#how-to-understand-if-you-got-a-working-project" class="table-of-contents__link">How to understand if you got a working project</a></li><li><a href="#open-project-in-android-studio" class="table-of-contents__link">Open project in Android Studio</a></li><li><a href="#some-details-about-android-studio" class="table-of-contents__link">Some details about Android Studio</a></li><li><a href="#workaround-for-kotlin-module" class="table-of-contents__link">Workaround for Kotlin module</a></li><li><a href="#fixing-the-main-project" class="table-of-contents__link">Fixing the main project</a></li><li><a href="#afterword" class="table-of-contents__link">Afterword</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 RoboPickles.</div></div></div></footer></div>
<script src="/styles.32d01a10.js"></script>
<script src="/runtime~main.817a9e8d.js"></script>
<script src="/main.086a753d.js"></script>
<script src="/common.dd18a9b1.js"></script>
<script src="/2.ae4cb8cb.js"></script>
<script src="/25.55dd44d4.js"></script>
<script src="/aeee494a.d845b839.js"></script>
<script src="/433542c1.8d263bae.js"></script>
</body>
</html>